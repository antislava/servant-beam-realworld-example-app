name: realworld-conduit
version: 0.1.0.0
synopsis: Exemplary fullstack Medium.com clone powered by Servant and Beam
description: The http://realworld.io specification implemented using Servant for the web application layer and Beam for persistence.
license: BSD3
license-file: LICENSE
author: Brad Parker
maintainer: hi@bradparker.com

ghc-options:
  - -Wall
  - -fno-warn-partial-type-signatures

dependencies:
  - base >=4.10 && <4.11
  - aeson
  - beam-core
  - beam-postgres
  - bytestring
  - containers
  - data-default
  - optparse-applicative
  - postgresql-simple
  - resource-pool
  - scrypt
  - servant
  - servant-server
  - text
  - time
  - transformers
  - validation
  - wai
  - wai-extra
  - warp

default-extensions:
  - DataKinds
  - DeriveAnyClass
  - DeriveGeneric
  - DuplicateRecordFields
  - FlexibleContexts
  - FlexibleInstances
  - MultiParamTypeClasses
  - NamedFieldPuns
  - NoImplicitPrelude
  - OverloadedStrings
  - PartialTypeSignatures
  - StandaloneDeriving
  - TypeFamilies
  - TypeOperators
  - TypeSynonymInstances

library:
  source-dirs:
    - src
  exposed-modules:
    - RealWorld.Conduit.Attribute
    - RealWorld.Conduit.Database
    - RealWorld.Conduit.Handle
    - RealWorld.Conduit.Options
    - RealWorld.Conduit.Users.Database
    - RealWorld.Conduit.Users.Database.Commands
    - RealWorld.Conduit.Users.Database.Queries
    - RealWorld.Conduit.Users.Database.User
    - RealWorld.Conduit.Users.Database.User.Attributes
    - RealWorld.Conduit.Web
    - RealWorld.Conduit.Web.Health
    - RealWorld.Conduit.Web.Health.Service

executables:
  realworld-conduit:
    main: Main.hs
    dependencies:
      - realworld-conduit
    source-dirs:
      - app

tests:
  spec:
    main: Spec.hs
    dependencies:
      - hspec
      - realworld-conduit
    source-dirs:
      - spec
    other-modules:
      - RealWorld.Conduit.Spec.Database
      - RealWorld.Conduit.Users.Database.User.AttributesSpec
      - RealWorld.Conduit.Users.DatabaseSpec
